import{r as $,g as M,a as q,s as N,_ as h,c as H,u as J,e as K,j as B,f as Q,d as f,h as X,B as Y,L as F,n as Z,R as tt,D as x}from"./index-1d730061.js";import{C as ot,D as et,B as O}from"./Logo-27922cc0.js";function rt(o){return $.Children.toArray(o).filter(t=>$.isValidElement(t))}function nt(o){return q("MuiButtonGroup",o)}const it=M("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),s=it,at=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],st=(o,t)=>{const{ownerState:e}=o;return[{[`& .${s.grouped}`]:t.grouped},{[`& .${s.grouped}`]:t[`grouped${f(e.orientation)}`]},{[`& .${s.grouped}`]:t[`grouped${f(e.variant)}`]},{[`& .${s.grouped}`]:t[`grouped${f(e.variant)}${f(e.orientation)}`]},{[`& .${s.grouped}`]:t[`grouped${f(e.variant)}${f(e.color)}`]},{[`& .${s.firstButton}`]:t.firstButton},{[`& .${s.lastButton}`]:t.lastButton},{[`& .${s.middleButton}`]:t.middleButton},t.root,t[e.variant],e.disableElevation===!0&&t.disableElevation,e.fullWidth&&t.fullWidth,e.orientation==="vertical"&&t.vertical]},dt=o=>{const{classes:t,color:e,disabled:r,disableElevation:n,fullWidth:i,orientation:a,variant:d}=o,g={root:["root",d,a==="vertical"&&"vertical",i&&"fullWidth",n&&"disableElevation"],grouped:["grouped",`grouped${f(a)}`,`grouped${f(d)}`,`grouped${f(d)}${f(a)}`,`grouped${f(d)}${f(e)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return X(g,nt,t)},lt=N("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:st})(({theme:o,ownerState:t})=>h({display:"inline-flex",borderRadius:(o.vars||o).shape.borderRadius},t.variant==="contained"&&{boxShadow:(o.vars||o).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${s.grouped}`]:h({minWidth:40,"&:hover":h({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${s.firstButton},& .${s.middleButton}`]:h({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:o.vars?`1px solid rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${s.disabled}`]:{borderRight:`1px solid ${(o.vars||o).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:o.vars?`1px solid rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${s.disabled}`]:{borderBottom:`1px solid ${(o.vars||o).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:o.vars?`rgba(${o.vars.palette[t.color].mainChannel} / 0.5)`:H(o.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(o.vars||o).palette.grey[400]}`,[`&.${s.disabled}`]:{borderRight:`1px solid ${(o.vars||o).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(o.vars||o).palette.grey[400]}`,[`&.${s.disabled}`]:{borderBottom:`1px solid ${(o.vars||o).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(o.vars||o).palette[t.color].dark},{"&:hover":h({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${s.lastButton},& .${s.middleButton}`]:h({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),ut=$.forwardRef(function(t,e){const r=J({props:t,name:"MuiButtonGroup"}),{children:n,className:i,color:a="primary",component:d="div",disabled:g=!1,disableElevation:b=!1,disableFocusRipple:l=!1,disableRipple:v=!1,fullWidth:u=!1,orientation:c="horizontal",size:p="medium",variant:m="outlined"}=r,U=K(r,at),z=h({},r,{color:a,component:d,disabled:g,disableElevation:b,disableFocusRipple:l,disableRipple:v,fullWidth:u,orientation:c,size:p,variant:m}),R=dt(z),A=$.useMemo(()=>({className:R.grouped,color:a,disabled:g,disableElevation:b,disableFocusRipple:l,disableRipple:v,fullWidth:u,size:p,variant:m}),[a,g,b,l,v,u,p,m,R.grouped]),T=rt(n),G=T.length,w=P=>{const y=P===0,D=P===G-1;return y&&D?"":y?R.firstButton:D?R.lastButton:R.middleButton};return B.jsx(lt,h({as:d,role:"group",className:Q(R.root,i),ref:e,ownerState:z},U,{children:B.jsx(ot.Provider,{value:A,children:T.map((P,y)=>B.jsx(et.Provider,{value:w(y),children:P},y))})}))}),ct=ut,Ut=({leftButtonLabel:o,rightButtonLabel:t,leftButtonLink:e,rightButtonLink:r})=>B.jsx(Y,{sx:{display:"flex",justifyContent:"start",alignItems:"center",mb:3,gap:7,pt:5},children:B.jsxs(ct,{variant:"contained",sx:{borderRadius:"5px",overflow:"hidden",".MuiButton-root":{flex:1}},children:[B.jsx(O,{component:F,to:e,sx:{borderRadius:"5px 0 0 5px",boxShadow:"none",fontSize:"14px",fontWeight:"500",padding:"5px 40px",width:"150px",textTransform:"none"},children:o}),B.jsx(O,{component:F,to:r,sx:{borderRadius:"0 5px 5px 0",boxShadow:"none",backgroundColor:"#50557F",fontSize:"14px",fontWeight:"500",padding:"5px 40px",width:"200px",textTransform:"none"},children:t})]})}),k=o=>{let t;const e=new Set,r=(l,v)=>{const u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){const c=t;t=v??(typeof u!="object"||u===null)?u:Object.assign({},t,u),e.forEach(p=>p(t,c))}},n=()=>t,g={setState:r,getState:n,getInitialState:()=>b,subscribe:l=>(e.add(l),()=>e.delete(l)),destroy:()=>{e.clear()}},b=t=o(r,n,g);return g},pt=o=>o?k(o):k;var V={exports:{}},I={},_={exports:{}},L={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E=$;function ft(o,t){return o===t&&(o!==0||1/o===1/t)||o!==o&&t!==t}var gt=typeof Object.is=="function"?Object.is:ft,vt=E.useState,bt=E.useEffect,ht=E.useLayoutEffect,xt=E.useDebugValue;function jt(o,t){var e=t(),r=vt({inst:{value:e,getSnapshot:t}}),n=r[0].inst,i=r[1];return ht(function(){n.value=e,n.getSnapshot=t,S(n)&&i({inst:n})},[o,e,t]),bt(function(){return S(n)&&i({inst:n}),o(function(){S(n)&&i({inst:n})})},[o]),xt(e),e}function S(o){var t=o.getSnapshot;o=o.value;try{var e=t();return!gt(o,e)}catch{return!0}}function Bt(o,t){return t()}var mt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bt:jt;L.useSyncExternalStore=E.useSyncExternalStore!==void 0?E.useSyncExternalStore:mt;_.exports=L;var Rt=_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C=$,$t=Rt;function Et(o,t){return o===t&&(o!==0||1/o===1/t)||o!==o&&t!==t}var yt=typeof Object.is=="function"?Object.is:Et,Pt=$t.useSyncExternalStore,Ct=C.useRef,St=C.useEffect,zt=C.useMemo,Tt=C.useDebugValue;I.useSyncExternalStoreWithSelector=function(o,t,e,r,n){var i=Ct(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=zt(function(){function g(c){if(!b){if(b=!0,l=c,c=r(c),n!==void 0&&a.hasValue){var p=a.value;if(n(p,c))return v=p}return v=c}if(p=v,yt(l,c))return p;var m=r(c);return n!==void 0&&n(p,m)?p:(l=c,v=m)}var b=!1,l,v,u=e===void 0?null:e;return[function(){return g(t())},u===null?void 0:function(){return g(u())}]},[t,e,r,n]);var d=Pt(o,i[0],i[1]);return St(function(){a.hasValue=!0,a.value=d},[d]),Tt(d),d};V.exports=I;var Dt=V.exports;const Ft=Z(Dt),{useDebugValue:Ot}=tt,{useSyncExternalStoreWithSelector:kt}=Ft;const Wt=o=>o;function Vt(o,t=Wt,e){const r=kt(o.subscribe,o.getState,o.getServerState||o.getInitialState,t,e);return Ot(r),r}const W=o=>{const t=typeof o=="function"?pt(o):o,e=(r,n)=>Vt(t,r,n);return Object.assign(e,t),e},It=o=>o?W(o):W,j="https://ontrackbackendapi.azurewebsites.net/api",At=It((o,t)=>({projects:[],tasks:[],loading:!1,error:null,projectProgress:{},getProjectById:e=>t().projects.find(r=>r.id===e),fetchProjects:async()=>{o({loading:!0,error:null});try{const e=await x.get(`${j}/project`);o({projects:e.data,loading:!1}),console.log("Projects fetched successfully")}catch(e){console.error("Failed to fetch projects:",e),o({loading:!1,error:"Failed to fetch projects"})}},fetchUserProjects:async()=>{o({loading:!0,error:null});try{const r=(await x.get(`${j}/user/me`)).data.projectIds;if(r&&r.length>0){const a=(await x.get(`${j}/project`)).data.filter(d=>r.includes(d.id));o({projects:a,loading:!1}),console.log("User projects fetched successfully"),t().fetchProjectProgress(r)}else o({projects:[],loading:!1})}catch(e){console.error("Failed to fetch user projects:",e),o({loading:!1,error:"Nie udało się wyświetlić projektów. Spróbuj ponownie później"})}},fetchProjectProgress:async e=>{try{const n=(await x.get(`${j}/project/progress/${e.join(",")}`)).data.reduce((i,a)=>(i[a.id]=a.progress.completedItemsPercent.value*100,i),{});o({projectProgress:n})}catch(r){console.error("Failed to fetch project progress:",r)}},addProject:async e=>{try{const n=(await x.post(`${j}/project`,e)).data;o(i=>({projects:[...i.projects,n]}))}catch(r){console.error("Failed to add project:",r)}},updateProject:async(e,r)=>{try{await x.put(`${j}/project`,r),o(n=>({projects:n.projects.map(i=>i.id===e?{...i,...r}:i)}))}catch(n){console.error("Failed to update project:",n)}},deleteProject:async e=>{try{await x.delete(`${j}/project/${e}`),o(r=>({projects:r.projects.filter(n=>n.id!==e)}))}catch(r){console.error("Failed to delete project:",r)}}}));export{Ut as B,It as c,At as u};
