import{j as a,i as w,k as N,r as j}from"./index-ace63820.js";import{u as x,M as l}from"./formik.esm-5da2c63d.js";import{c as y,a as n}from"./index.esm-dbebe921.js";import{S as v,a as T}from"./StyledLink-cbef06ce.js";import{U as b,b as s}from"./baseValidationSchema-85dc3e38.js";import{T as g,B as S,L as k}from"./Logo-f0d95306.js";import"./Avatar-10971abc.js";const C=({initialValues:o,onSubmit:m,formTitle:d,submitButtonText:u,userProfile:t,bottomText:p,bottomLinkText:r,bottomLinkHref:h="/",validationSchema:c,passwordFieldProps:f})=>{const e=x({initialValues:o,onSubmit:i=>{m(i.firstName,i.lastName,i.email,i.password)},validationSchema:c});return a.jsxs(v,{onSubmit:e.handleSubmit,children:[a.jsx(g,{component:"h1",variant:"h5",children:d}),t&&a.jsx(b,{name:t.name,avatar:t.avatar}),a.jsx(l,{id:"firstName",name:"firstName",label:"Imię",type:"text",autoComplete:"on",variant:"standard",value:e.values.firstName,onChange:e.handleChange,error:e.touched.firstName&&!!e.errors.firstName,helperText:e.touched.firstName&&e.errors.firstName,fullWidth:!0}),a.jsx(l,{id:"lastName",name:"lastName",label:"Nazwisko",type:"text",autoComplete:"on",variant:"standard",value:e.values.lastName,onChange:e.handleChange,error:e.touched.lastName&&!!e.errors.lastName,helperText:e.touched.lastName&&e.errors.lastName,fullWidth:!0}),a.jsx(l,{id:"email",name:"email",label:"Email",type:"email",autoComplete:"on",variant:"standard",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&!!e.errors.email,helperText:e.touched.email&&e.errors.email,fullWidth:!0}),a.jsx(l,{id:"password",name:"password",label:"Hasło",type:"password",autoComplete:"new-password",variant:"standard",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&!!e.errors.password,helperText:e.touched.password&&e.errors.password,fullWidth:!0,...f}),a.jsx(S,{variant:"contained",fullWidth:!0,type:"submit",children:u}),a.jsxs(g,{fontSize:"1rem",children:[p," ",a.jsx(T,{to:h,children:r})]})]})},q=s.shape({firstName:s.fields.firstName.required("To pole jest wymagane"),lastName:s.fields.lastName.required("To pole jest wymagane"),email:s.fields.email.required("To pole jest wymagane"),password:s.fields.password.required("To pole jest wymagane")}),B=()=>{const{register:o,isLoggedIn:m}=w(),d=N(),u=y({firstName:n().required("To pole jest wymagane"),lastName:n().required("To pole jest wymagane"),email:n().email("Nieprawidłowy adres email").required("To pole jest wymagane"),password:n().required("To pole jest wymagane").min(8,"Min 8 znaków")}),t=x({initialValues:{firstName:"",lastName:"",email:"",password:""},onSubmit:async r=>{o(r),t.resetForm()},validationSchema:u});j.useEffect(()=>{m&&d("/home")});const p=(r,h,c,f)=>{o({firstName:r,lastName:h,email:c,password:f})};return a.jsx(C,{initialValues:t.initialValues,onSubmit:p,formTitle:"Jesteś tu pierwszy raz?",submitButtonText:"Załóż konto",bottomText:"Masz już konto?",bottomLinkText:"Zaloguj się",bottomLinkHref:"/login",validationSchema:q})},R=()=>a.jsxs("div",{style:{position:"relative",maxHeight:"100%",height:"100vh"},children:[a.jsx("img",{src:k,alt:"OnTrack Logo",style:{position:"absolute",top:"50px",width:"240px",left:"50%",transform:"translateX(-50%)"}}),a.jsx(B,{})]});export{R as default};
