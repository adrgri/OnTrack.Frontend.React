import{i as c,k as g,r as u,j as a}from"./index-be308853.js";import{u as f,M as t}from"./formik.esm-590b13a8.js";import{c as x,a as s}from"./index.esm-a64901ec.js";import{S as w,a as j}from"./StyledLink-63791fff.js";import{T as h,B as N,L as v}from"./Logo-6f953c1a.js";const y=x({firstName:s().required("To pole jest wymagane"),lastName:s().required("To pole jest wymagane"),email:s().email("Nieprawidłowy adres email").required("To pole jest wymagane"),password:s().required("To pole jest wymagane").min(8,"Min 8 znaków")}),C=()=>{const{register:p,isLoggedIn:i}=c(),o=g(),[l,n]=u.useState(!1),e=f({initialValues:{firstName:"",lastName:"",email:"",password:""},validationSchema:y,onSubmit:async m=>{n(!0),console.log("Submitting values:",m);try{const r=await p(m);r.success?(e.resetForm(),o("/home")):console.error("Registration failed:",r.message)}catch(r){let d="An error occurred while registering: ";r instanceof Error&&(d=r.message),console.error(d)}finally{n(!1)}}});return u.useEffect(()=>{i&&o("/home")},[i,o]),a.jsxs(w,{onSubmit:e.handleSubmit,children:[a.jsx(h,{component:"h1",variant:"h5",children:"Jesteś tu pierwszy raz?"}),a.jsx(t,{id:"firstName",name:"firstName",label:"Imię",type:"text",autoComplete:"on",variant:"standard",value:e.values.firstName,onChange:e.handleChange,error:e.touched.firstName&&!!e.errors.firstName,helperText:e.touched.firstName&&e.errors.firstName,fullWidth:!0}),a.jsx(t,{id:"lastName",name:"lastName",label:"Nazwisko",type:"text",autoComplete:"on",variant:"standard",value:e.values.lastName,onChange:e.handleChange,error:e.touched.lastName&&!!e.errors.lastName,helperText:e.touched.lastName&&e.errors.lastName,fullWidth:!0}),a.jsx(t,{id:"email",name:"email",label:"Email",type:"email",autoComplete:"on",variant:"standard",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&!!e.errors.email,helperText:e.touched.email&&e.errors.email,fullWidth:!0}),a.jsx(t,{id:"password",name:"password",label:"Hasło",type:"password",autoComplete:"new-password",variant:"standard",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&!!e.errors.password,helperText:e.touched.password&&e.errors.password,fullWidth:!0}),a.jsx(N,{variant:"contained",fullWidth:!0,type:"submit",disabled:l,children:l?"Rejestracja...":"Załóż konto"}),a.jsxs(h,{fontSize:"1rem",children:["Masz już konto? ",a.jsx(j,{to:"/login",children:"Zaloguj się"})]})]})},B=()=>a.jsxs("div",{style:{position:"relative",maxHeight:"100%",height:"100vh"},children:[a.jsx("img",{src:v,alt:"OnTrack Logo",style:{position:"absolute",top:"50px",width:"240px",left:"50%",transform:"translateX(-50%)"}}),a.jsx(C,{})]});export{B as default};
