import{j as a,i as c}from"./index-ace63820.js";import{S as g,a as f}from"./StyledLink-cbef06ce.js";import{u as x,M as s}from"./formik.esm-5da2c63d.js";import{U as P,b as v}from"./baseValidationSchema-85dc3e38.js";import{G as j}from"./Grid-013bcda4.js";import{T as p,B as N}from"./Logo-f0d95306.js";import{M as y}from"./MainLayout-7c83bf1d.js";import"./Avatar-10971abc.js";import"./index.esm-dbebe921.js";import"./IconButton-3d8c7b71.js";const C=({initialValues:t,onSubmit:o,formTitle:l,submitButtonText:i,userProfile:n,bottomText:d,bottomLinkText:m,bottomLinkHref:u="/",validationSchema:w,passwordFieldProps:h})=>{const e=x({initialValues:t,onSubmit:r=>{o(r.firstName,r.lastName,r.email,r.oldPassword,r.newPassword,r.repeatPassword)},validationSchema:w});return a.jsxs(g,{onSubmit:e.handleSubmit,children:[a.jsxs(j,{item:!0,xs:12,container:!0,justifyContent:"space-between",children:[a.jsx(p,{component:"h1",variant:"h5",children:l}),n&&a.jsx(P,{avatar:n.avatar})]}),a.jsx(s,{id:"firstName",name:"firstName",label:"Imię",type:"text",autoComplete:"on",variant:"standard",value:e.values.firstName,onChange:e.handleChange,error:e.touched.firstName&&!!e.errors.firstName,helperText:e.touched.firstName&&e.errors.firstName,fullWidth:!0}),a.jsx(s,{id:"lastName",name:"lastName",label:"Nazwisko",type:"text",autoComplete:"on",variant:"standard",value:e.values.lastName,onChange:e.handleChange,error:e.touched.lastName&&!!e.errors.lastName,helperText:e.touched.lastName&&e.errors.lastName,fullWidth:!0}),a.jsx(s,{id:"email",name:"email",label:"Email",type:"email",autoComplete:"on",variant:"standard",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&!!e.errors.email,helperText:e.touched.email&&e.errors.email,fullWidth:!0}),a.jsx(s,{id:"oldPassword",name:"oldPassword",label:"Stare hasło",type:"password",autoComplete:"old-password",variant:"standard",value:e.values.oldPassword,onChange:e.handleChange,error:e.touched.oldPassword&&!!e.errors.oldPassword,helperText:e.touched.oldPassword&&e.errors.oldPassword,fullWidth:!0,...h}),a.jsx(s,{id:"newPassword",name:"newPassword",label:"Nowe hasło",type:"password",autoComplete:"new-password",variant:"standard",value:e.values.newPassword,onChange:e.handleChange,error:e.touched.newPassword&&!!e.errors.newPassword,helperText:e.touched.newPassword&&e.errors.newPassword,fullWidth:!0,...h}),a.jsx(s,{id:"repeatPassword",name:"repeatPassword",label:"Powtórz hasło",type:"password",autoComplete:"repeat-password",variant:"standard",value:e.values.repeatPassword,onChange:e.handleChange,error:e.touched.repeatPassword&&!!e.errors.repeatPassword,helperText:e.touched.repeatPassword&&e.errors.repeatPassword,fullWidth:!0,...h}),a.jsx(N,{variant:"contained",fullWidth:!0,type:"submit",children:i}),a.jsxs(p,{fontSize:"1rem",children:[d," ",a.jsx(f,{to:u,children:m})]})]})},S=()=>{const{user:t,isLoggedIn:o}=c();if(console.log("user in MySettings",t),console.log("isLoggedIn in MySettings",o),!o)return a.jsx("div",{children:"Please log in to edit your settings."});console.log("user in MySettings",t);const l=async(i,n,d,m)=>new Promise(u=>{setTimeout(()=>{console.log("User settings updated:",{firstName:i,lastName:n,email:d,password:m}),u("Settings updated successfully.")},1e3)});return a.jsx(C,{initialValues:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",oldPassword:"",newPassword:"",repeatPassword:""},onSubmit:l,formTitle:"Moje ustawienia",submitButtonText:"Zapisz zmiany",userProfile:{avatar:(t==null?void 0:t.avatar)||"https://i.pravatar.cc/150?img=51"},validationSchema:v,passwordFieldProps:{InputLabelProps:{shrink:!0}}})},F=()=>a.jsx("div",{children:a.jsx(y,{children:a.jsx(S,{})})});export{F as default};
